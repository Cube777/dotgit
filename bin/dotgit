#! /bin/bash
# shellcheck disable=SC2155

# Dotgit is an easy-to-use and effective way to backup all your dotfiles and
# manage them in a repository

# Developer: Kobus van Schoor

declare -r DG_START=1 # Marker for header files
declare -r DG_H=$(dirname "$(readlink -f "$0")")/dotgit_headers # Headers DIR

# shellcheck source=dotgit_headers/help
source "$DG_H/help"

declare -a CTG

if [[ $# == 0 ]]; then
	phelp;
	exit;
elif [[ $# == 1 ]]; then
	CTG=(common $HOSTNAME)
else
	# shellcheck disable=SC2034
	CTG=(${@:2})
fi

case "$1" in
	"update")update CTG[@];;
	"restore")restore CTG[@];;
	"generate")generate CTG[@];;
	"hard-restore")hardrestore CTG[@];;
	"init")init;;
	"encrypt")encrypt;;
	"decrypt")decrypt;;
	"clean")cleanhome;;
	"passwd")passwd;;
	"diff")pdiff;;
	"help")phelp;;
	*)echo -e "$1 is not a valid argument."; exit 1;;
esac;
