# Maintainer: Kobus van Schoor <pbscube at gmail dot com>
pkgname=dotgit
pkgver=1.2.3
pkgrel=1
pkgdesc="A comprehensive solution to managing your dotfiles"
url="http://github.com/Cube777/dotgit"
arch=('any')
depends=('git' 'sed' 'grep' 'bash')
source=('git+https://github.com/Cube777/dotgit.git')
md5sums=('SKIP')

prepare() {
	cd $pkgname
	git --work-tree . checkout -q tags/$pkgver
}

package() {
	install -Dm755 "$srcdir/$pkgname/bin/dotgit" "$pkgdir/usr/bin/dotgit"
	mkdir "$pkgdir/usr/bin/dotgit_headers"
	for i in "$srcdir/$pkgname/dotgit_headers/*"; do
		install -Dm555 "$i" "$pkgdir/usr/bin/dotgit_headers/$(echo $i | rev | sed 's/\/.*//g' | rev)"
	done
	install -Dm644 "$srcdir/$pkgname/bin/bash_completion" "$pkgdir/usr/share/bash-completion/completions/dotgit"
}
